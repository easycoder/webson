{
    "#debug": 2,
    "#doc": [
        "A full QWERTY keyboard.",
        "This is the parent container"
    ],
    "padding": "<#element_width/50>px",
    "#": {"#item": "$Container"},
    
    "$Container": {
        "#doc": "The inner container",
        "#element": "div",
        "@id": "inner",
        "#": {"#item": "$Rows"}
    },
    
    "$Rows": {
        "#doc": "The row holder",
        "#element": "div",
        "@id": "rowHolder",
        "#calc": [
            {"$Keys": 13},
            {"$Gaps": "$Keys+2"},
            {"$Items": "$Keys+2+$Gaps/10"},
            {"$ButtonSize": "#parent_width/$Items"},
            {"$ButtonRadius": "$ButtonSize/5"},
            {"$Gap": "$ButtonSize/10"}
        ],
        "width": "100%",
        "height": "<$ButtonSize*5+$Gap*10>",
        "text-align": "center",
        "#": [
            {"#item": "$Row0"},
            {"#item": "$Row1"},
            {"#item": "$Row2"},
            {"#item": "$Row3"},
            {"#item": "$Row4"}
        ]
    },
    
    "$Row0": {
        "#doc": "Row 0 of the keyboard",
        "#element": "div",
        "@id": "row0",
        "display": "inline-block",
        "width": "<$ButtonSize*13+$ButtonSize*1.7+$Gap*15>px",
        "height": "<$ButtonSize+$Gap*2>px",
        "$row": 0,
        "$RowLabels": [
            "`", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "-", "="
        ],
        "$hrefs": [
            "r0c0", "r0c1", "r0c2", "r0c3", "r0c4", "r0c5", "r0c6", "r0c7", "r0oc8", "r0c9",
            "r0c10", "r0c11", "r0c12"
        ],
        "#": [
            {"#item": "$Buttons"},
            {"#item": "$BackspaceButton"}
        ]
    },
    
    "$Row1": {
        "#doc": "Row 1 of the keyboard",
        "#element": "div",
        "@id": "row1",
        "display": "inline-block",
        "width": "<$ButtonSize*13+$ButtonSize*2+$Gap*15>px",
        "height": "<$ButtonSize+$Gap*2>px",
        "$row": 1,
        "$RowLabels": [
            "q", "w", "e", "r", "t", "y", "u", "i", "o", "p", "[", "]", "\\"
        ],
        "$hrefs": [
            "r10c0", "r1c1", "r1c2", "r1c3", "r1c4", "r1c5", "r1c6", "r1c7", "r1c8", "r1c9",
            "r1c10", "r1c11", "r1c12"
        ],
        "#": [
            {"#item": "$TabButton"},
            {"#item": "$Buttons"}
        ]
    },
    
    "$Row2": {
        "#doc": "Row 2 of the keyboard",
        "#element": "div",
        "@id": "row2",
        "display": "inline-block",
        "width": "<$ButtonSize*11+$ButtonSize*2+$Gap*13>px",
        "height": "<$ButtonSize+$Gap*2>px",
        "$row": 2,
        "$RowLabels": [
            "a", "s", "d", "f", "g", "h", "j", "k", "l", ";", "'"
        ],
        "$hrefs": [
            "r2c0", "r2c1", "r2c2", "r2c3", "r2c4", "r2c5", "r2c6", "r2c7", "r2c8", "r2c9",
            "r2c10"
        ],
        "#": [
            {"#item": "$Buttons"},
            {"#item": "$EnterButton"}
        ]
    },
    
    "$Row3": {
        "#doc": "Row 3 of the keyboard",
        "#element": "div",
        "@id": "row3",
        "display": "inline-block",
        "width": "<$ButtonSize*10+$ButtonSize*4+$Gap*15>px",
        "height": "<$ButtonSize+$Gap*2>px",
        "$row": 3,
        "$RowLabels": [
            "z", "x", "c", "v", "b", "n", "m", ",", ".", "/"
        ],
        "$hrefs": [
            "r3c0", "r3c1", "r3c2", "r3c3", "r3c4", "r3c5", "r3c6", "r3c7", "r3c8", "r3c9"
        ],
        "#": [
            {"#item": "$ShiftButtonL"},
            {"#item": "$Buttons"},
            {"#item": "$ShiftButtonR"}
        ]
    },
    
    "$Row4": {
        "#doc": "Row 4 of the keyboard",
        "#element": "div",
        "@id": "row4",
        "display": "inline-block",
        "width": "<$ButtonSize*16>px",
        "height": "<$ButtonSize+$Gap*2>px",
        "$row": 4,
        "#": {"#item": "$SpaceBar"}
    },
    
    "$Buttons": {
        "#repeat": {
            "#doc": "This repeats a row of keys",
            "#target": "$StandardButton",
            "#steps": {
                "#arraysize": "$RowLabels"
            }
        }
    },
    
    "$BackspaceButton": {
        "#doc": "This is the Backspace key",
        "$id": "Bksp",
        "$width": "<$ButtonSize*1.7>",
        "$content": "Bksp",
        "$href": "bksp",
        "#": {
            "#item": "$Button"
        }
    },
    
    "$TabButton": {
        "#doc": "This is the Tab key",
        "$id": "Tab",
        "$width": "<$ButtonSize*2>",
        "$content": "Tab",
        "$href": "tab",
        "#": {
            "#item": "$Button"
        }
    },
    
    "$EnterButton": {
        "#doc": "This is the Enter key",
        "$id": "Enter",
        "$width": "<$ButtonSize*2>",
        "$content": "Enter",
        "$href": "enter",
        "#": {
            "#item": "$Button"
        }
    },
    
    "$ShiftButtonL": {
        "#doc": "This is the left Shift key",
        "$id": "ShiftL",
        "$href": "shift",
        "#": {
            "#item": "$ShiftButton"
        }
    },
    
    "$ShiftButtonR": {
        "#doc": "This is the right Shift key",
        "$id": "ShiftR",
        "$href": "shift",
        "#": {
            "#item": "$ShiftButton"
        }
    },
    
    "$ShiftButton": {
        "#doc": "This is the Shift key",
        "$width": "<$ButtonSize*2>",
        "$content": "Shift",
        "#": {
            "#item": "$Button"
        }
    },
    
    "$SpaceBar": {
        "#doc": "This is the Space Bar",
        "$id": "Space",
        "$width": "<$ButtonSize*8>",
        "$content": "&nbsp;",
        "$href": "space",
        "#": {
            "#item": "$Button"
        }
    },
    
    "$StandardButton": {
        "#doc": "This is a standard key",
        "$id": "r<$row>-$content",
        "$width": "$ButtonSize",
        "$content": {
            "#select": "$RowLabels",
            "#index": "#step"
        },
        "$href": {
            "#select": "$hrefs",
            "#index": "#step"
        },
        "#": {
            "#item": "$Button"
        }
    },
    
    "$Button": {
        "#doc": "This is the outer container for a button",
        "#element": "div",
        "@id": "$id",
        "position": "relative",
        "display": "inline-block",
        "width": "<$width>px",
        "height": "<$ButtonSize>px",
        "margin-top": "<$Gap>px",
        "margin-left": "<$Gap>px",
        "border-radius": "<$ButtonRadius>px",
        "background": "#888",
        "#": {
            "#item": "$ButtonFace"
        }
    },
    
    "$ButtonInner": {
        "#doc": "This is the button inner container",
        "#element": "div",
        "position": "relative",
        "width": "90%",
        "height": "90%",
        "top": "10%",
        "border-radius": "<$ButtonRadius>px",
        "background": "#888",
        "#": {
            "#item": "$ButtonFace"
        }
    },
    
    "$ButtonFace": {
        "#doc": "This is the actual button face",
        "#element": "a",
        "@id": "a$id",
        "display": "block",
        "position": "relative",
        "width": "100%",
        "top": "20%",
        "color": "white",
        "font-family": "mono",
        "font-size": "<$ButtonSize*0.5>px",
        "font-weight": "bold",
        "text-decoration": "none",
        "@href": "https://test.com?key=<$href>",
        "#content": "$content"
    }
}
